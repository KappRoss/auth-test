(this["webpackJsonpauth-test"]=this["webpackJsonpauth-test"]||[]).push([[0],{27:function(e,t,n){e.exports={AuthPage:"authPage_AuthPage__2WZrl"}},38:function(e,t,n){},39:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),i=n(16),c=n.n(i),a=(n(38),n(39),n(13)),u=n(3),o=n(26),d=n(27),j=n.n(d),l=n(11),h="AUTH_LOG_IN",b="AUTH_SIGN_UP",O="ADMIN_AUTH",g="AUTH_ERROR",m="LOG_OUT",p=[{login:"admin",password:"admin",idToken:Math.random()},{login:"test@gmail.com",password:"1234",idToken:Math.random()}],x=n(1),f=Object(l.b)((function(e){return{isAuth:e.auth.isAuth,adminLogin:e.auth.adminLogin,adminPassword:e.auth.adminPassword,isAdmin:e.auth.isAdmin,error:e.auth.error,success:e.auth.success}}),{auth:function(e,t,n,s){return function(r,i){var c=i();(p.filter((function(n){return n.login===e&&n.password===t})).length,s&&n&&r({type:O}),n)?1===c.auth.users.filter((function(n){return n.userName===e&&n.userPass===t})).length?r(function(){return{type:h,idToken:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}()):r({type:g}):c.auth.users.filter((function(t){return t.userName===e})).length<1&&"admin"!==e&&r(function(e,t){return{type:b,login:e,password:t}}(e,t))}},logOut:function(){return function(e){e({type:m})}}})((function(e){var t=e.adminLogin,n=e.adminPassword,r=e.auth,i=e.isAuth,c=e.isAdmin,a=e.error,u=e.success,d=e.logOut,l=Object(s.useState)(""),h=Object(o.a)(l,2),b=h[0],O=h[1],g=Object(s.useState)(""),m=Object(o.a)(g,2),p=m[0],f=m[1],A=function(){r(b,p,!0,b===t&&p===n)},v=function(e){"Enter"===e.key&&A()};return Object(x.jsx)("div",{className:j.a.AuthPage,children:i?Object(x.jsxs)("div",{children:["You are log in as ",c?Object(x.jsx)("span",{children:"'ADMIN'"}):Object(x.jsx)("span",{children:"'USER'"}),Object(x.jsx)("button",{onClick:d,children:"Log out"})]}):Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Auth Page"}),Object(x.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},onKeyPress:v,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"login",children:"Your Email/Nick"}),Object(x.jsx)("input",{type:"text",id:"login",value:b,onChange:function(e){return O(e.target.value)},onKeyPress:v})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"password",children:"Your password"}),Object(x.jsx)("input",{type:"password",id:"password",value:p,onChange:function(e){e.preventDefault(),f(e.target.value),"Enter"===e.key&&A()},onKeyPress:v}),a?Object(x.jsx)("span",{style:{color:"red"},children:"Wrong pass or login"}):null]})]}),Object(x.jsx)("button",{onClick:A,children:"Log in"}),Object(x.jsx)("button",{onClick:function(){return r(b,p,!1,!1)},children:"Sign up"}),u?Object(x.jsx)("span",{children:"Sign up success! Now log in!"}):null]})})})),A=function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"InfoPage"})})},v=function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"AdminPage"})})},P=Object(l.b)((function(e){return{isAdmin:e.auth.isAdmin,isAuth:e.auth.isAuth}}))((function(e){var t=e.isAdmin,n=e.isAuth;return Object(x.jsxs)("div",{className:"App",children:[n?Object(x.jsxs)("div",{className:"navMenu",children:[Object(x.jsx)("div",{children:Object(x.jsx)(a.b,{to:"/",children:"Auth "})}),Object(x.jsx)("div",{children:Object(x.jsx)(a.b,{to:"/info-page",children:"Info page"})}),Object(x.jsx)("div",{children:t?Object(x.jsx)(a.b,{to:"/admin-page",children:"Admin page"}):null})]}):null,Object(x.jsxs)(u.c,{children:[Object(x.jsx)(u.a,{exact:!0,path:"/info-page",component:A}),Object(x.jsx)(u.a,{exact:!0,path:"/admin-page",component:v}),Object(x.jsx)(u.a,{component:f})]})]})})),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),i(e),c(e)}))},k=n(29),y=n(8),N=n(12),T=n(9),L={isAuth:!1,token:null,users:[{userName:"k@mail.ru",userPass:"1234"},{userName:"test@mail.ua",userPass:"1234"}],adminLogin:"admin",adminPassword:"admin",isAdmin:!1,error:!1,success:!1};var _=n(33),S=n(31),C=n(32),I=n.n(C),U=n(25),E=Object(y.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(T.a)(Object(T.a)({},e),{},{isAdmin:!0,isAuth:!0});case h:return Object(T.a)(Object(T.a)({},e),{},{isAuth:!0,error:!1,token:t.idToken});case b:return Object(T.a)(Object(T.a)({},e),{},{users:[].concat(Object(N.a)(e.users),[{userName:t.login,userPass:t.password}]),success:!0,error:!1});case g:return Object(T.a)(Object(T.a)({},e),{},{error:!0});case m:return Object(T.a)(Object(T.a)({},e),{},{isAuth:!1,success:!1,isAdmin:!1,error:!1});default:return e}}}),F={key:"root",storage:I.a,whitelist:["auth"]},M=Object(U.a)(F,E),D=Object(_.a)(),H=Object(y.e)(M,Object(y.d)(Object(y.a)(D,S.a))),R=Object(U.b)(H);c.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(l.a,{store:H,children:Object(x.jsx)(k.a,{persistor:R,loading:null,children:Object(x.jsx)(a.a,{children:Object(x.jsx)(P,{})})})})}),document.getElementById("root")),w()}},[[48,1,2]]]);
//# sourceMappingURL=main.df49a92b.chunk.js.map